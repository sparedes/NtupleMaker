# NtupleMaker
This package produces a flat ntuple from an xAOD file. It uses the tools setup in METTriggerToolBox for object setup and calibration.
## MakeTree Usage
The package's main algorithm is MakeTree (_NtupleMaker/src/MakeTree.\*_), which reads an xAOD file specified in the job options and writes a flat ntuple.


Check the job options file in `NtupleMaker/share/makeNtupleTest.py` for an example of how to use NtupleMaker.
To run, simply do: 


```
$ athena NtupleMaker/share/makeNtupleTest.py
``` 

from a directory with an athena setup. 

If needed, more branches could be added to the TTree by adding them in the same way other branches are crated in MakeTree.cxx and .h


### (temporary) makeHist Usage 
This script reads the TTree generated by MakeTree, and outputs a root file with a few histograms. To use it, load it from a root session (make sure the path to metTree.root is correct in makeHist.cxx) :

```
root [0] .L NtupleMaker/makeHist.cxx 
root [1] treeToHist()
```
### (temporary) plotFcn Usage
*plitFcn.C* is a simple plotting script I put together to produce .png files from histograms. 
It loops over a flat ntuple and produces a .png of each of the histograms in it. Before running, create a directory for the plots

```
mkdir plots
```

Then, in a root session:

```
root [0] .L NtupleMaker/plotFctn.C 
root [1] plotHist()
```

